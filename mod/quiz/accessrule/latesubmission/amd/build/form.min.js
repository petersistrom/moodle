define("quizaccess_latesubmission/form",["exports"],(function(_exports){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.setDate=_exports.init=_exports.getDate=_exports.calculateCloseDate=void 0;const Selectors_timedue="#id_timedue_enabled",Selectors_timeclose="#id_timeclose_enabled",Selectors_timedueselector="select[id^=id_timedue_]";_exports.init=_ref=>{let{lateperiod:lateperiod,holiday:holiday}=_ref,timedue=document.querySelector(Selectors_timedue);timedue.addEventListener("click",(function(){timedue.checked&&(timeclose.checked||timeclose.click(),calculateCloseDate(lateperiod,holiday))}));let timeclose=document.querySelector(Selectors_timeclose);timeclose.addEventListener("click",(function(){!timeclose.checked&&timedue.checked&&timedue.click()})),document.querySelector(Selectors_timedueselector).addEventListener("change",(function(){calculateCloseDate(lateperiod,holiday)}))};const calculateCloseDate=(lateperiod,holiday)=>{let timeduevalue=getDate("timedue"),timeduetimestamp=new Date(timeduevalue.year,timeduevalue.month-1,timeduevalue.day,timeduevalue.hour,timeduevalue.minute,0).getTime(),timeclosetimestamp=timeduetimestamp+1e3*lateperiod,temptimestamp=timeduetimestamp;for(;temptimestamp<timeclosetimestamp;){temptimestamp+=864e5;let day=new Date(temptimestamp).getDay();6!=day&&0!=day||(timeclosetimestamp+=864e5)}holiday.split(",").forEach((element=>{(element*=1e3)>=timeduetimestamp&&element<timeclosetimestamp&&(timeclosetimestamp+=864e5)}));let timeclosedate=new Date(timeclosetimestamp);setDate("timeclose",timeclosedate)};_exports.calculateCloseDate=calculateCloseDate;const getDate=elementName=>({day:document.querySelector('[name="'+elementName+'[day]"]').value,month:document.querySelector('[name="'+elementName+'[month]"]').value,year:document.querySelector('[name="'+elementName+'[year]"]').value,hour:document.querySelector('[name="'+elementName+'[hour]"]').value,minute:document.querySelector('[name="'+elementName+'[minute]"]').value});_exports.getDate=getDate;const setDate=(elementName,newvalue)=>{document.querySelector('[name="'+elementName+'[day]"]').value=newvalue.getDate(),document.querySelector('[name="'+elementName+'[month]"]').value=newvalue.getMonth()+1,document.querySelector('[name="'+elementName+'[year]"]').value=newvalue.getFullYear(),document.querySelector('[name="'+elementName+'[hour]"]').value=newvalue.getHours(),document.querySelector('[name="'+elementName+'[minute]"]').value=newvalue.getMinutes()};_exports.setDate=setDate}));

//# sourceMappingURL=form.min.js.map